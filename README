Puppet-Module for configuring Puppet itself, both the master and the clients
============================================================================

Use a seperate local module called "site-puppet", where you place your customized 
files, under:
 site-puppet/files/master/fileserver.conf
 site-puppet/files/master/puppet.conf

those files in this module are just examples.

Depends on Modules
------------------
- bc

Usage
=====

The module currently looks for values on different variables to adjust
configuration of the master.

Run puppet by cron:
-------------------

By default puppet runs as own daemon. However, you might want to run
puppet by cron. To do this, you have to include `puppet::cron` instead
of `puppet`. By default puppet will run twice an hour, spread amongst
the half an hour depending on the host's fqdn. You can tweak that setting
by setting $puppet_crontime


Puppetmaster Mode:
------------------

If you want to run the puppetmaster in a non-webrick based
mode, you can set $puppetmaster_mode either to:

* passenger, run puppetmaster as a passenger application
* cluster, run puppetmaster as a mongrel based cluster

In both cases you have to setup the appropriate frontends
(apache vhost configuration/nginx vhost configuration) on
your own.

Reports cleanup:
---------------

By default we clean up reports older than 30 days. If you want to change
that, you can set $puppetmaster_cleanup_reports to one of the following
values:

* 'X', where X is the amount of days you want to keep reports for
* false, to disable reports cleanup

Check last run:
---------------

We can check on the last run state of certain clients, to check whether
they still check in. You can do that by setting the following variables:

$puppetmaster_lastruncheck_cron

* any cron time: '20 10,22 * * *' to run the script at a certain time
  by cron. Default: 40 10 * * *
* false: to disable check for last run

Example:
--------

in your site.pp, i.e. :

    $puppet_crontime = "0,12 * * * *"
    include puppet::cron
    
    $puppetmaster_mode = 'passenger'
    include puppet::puppetmaster
    
    $puppet_storeconfig_password="..."
    include puppet::puppetmaster::storeconfigs

...tbc...
